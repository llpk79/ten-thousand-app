
<MenuScreen>
    name: 'menu'
    FloatLayout:
        Image:
            source: 'images/pattern.png'
            allow_stretch: True
            keep_ratio: False
        Button:
            text: 'Let\'s play some dice!'
            size_hint: (.2, .1)
            pos_hint: {'x': .4, 'y': .45}
            on_press: root.manager.current = 'number'


<PlayerNameScreen>
    name: 'name'
    on_enter:  self.on_enter_call(root.manager.screens)
    FloatLayout:
        Image:
            source: 'images/pattern.png'
            allow_stretch: True
            keep_ratio: False

        # Button:
        #     text: 'This will be the player name setup screen'
        #     size_hint: (.35, .1)
        #     pos_hint: {'x': .4, 'y': .45}
        #     on_press: root.manager.current = 'game'


<PlayerNumberScreen>
    name: 'number'
    # num_players: num_players_input.text
    FloatLayout:
        Image:
            source: 'images/pattern.png'
            allow_stretch: True
            keep_ratio: False
        Label:
            text: 'How many people are playing?'
            size_hint: (.2, .05)
            pos_hint: {'x': .3, 'y': .55}
        IntInput:
            id: num_players_input
            multiline: False
            on_text_validate: root.call_back(self.text)
            size_hint: (.3, .05)
            pos_hint: {'x': .25, 'y': .5}

<DieBasket>
    size_hint: .9, .25
    pos_hint: {'x': .05, 'y': .6}
    size_hint: .9, .25
    Image:
        source: 'images/basket.jpg'
        allow_stretch: True
        keep_ratio: False
        canvas.after:
            Line:
                rectangle: self.x+1,self.y+1,self.width-1,self.height-1

<Roll>:
    size_hint: (.15, .1)
    pos_hint: {'x': .75, 'y': .4}
    text: 'Roll'
    font_size: 50
    background_color: .21, .45, .3, 1

<Keep>:
    size_hint: (.15, .1)
    pos_hint: {'x': .75, 'y': .2}
    text: 'Keep'
    font_size: 50
    background_color: .75, .41, .03, 1


<Base>:
    Image:
        source: 'images/tabletop2.jpg'
        allow_stretch: True
        keep_ratio: False


<GameScreen>
    name: 'game'
    Base:
        die_basket: die_basket
        id: base
        DieBasket:
            id: die_basket
        Dice:
            id: dice
        Keep
        Roll:
            on_press: root.ids['dice'].update_dice(len(root.ids['base'].die_basket.keepers))
